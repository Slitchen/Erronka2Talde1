<div class="container py-5">
  <!-- ENCABEZADO -->
  <div class="text-center mb-5">
    <h1 class="display-5 fw-bold text-primary">
      <i class="bi bi-person-workspace"></i> 
      <span>{{ 'ALUMNO_PORTAL.TITULO_PAGINA' | translate }}</span>
    </h1>
    <p class="text-muted">{{ 'ALUMNO_PORTAL.SUBTITULO' | translate }}</p>
  </div>

  <!-- INFORMACION DEL ALUMNO -->
  <div class="card border-0 shadow-sm mb-5 overflow-hidden">
    <div class="card-header bg-primary text-white py-3">
      <h4 class="mb-0 fw-light">
        <i class="bi bi-person-badge"></i> 
        <span>{{ 'ALUMNO_PORTAL.SECCION_INFO' | translate }}</span>
      </h4>
    </div>
    <div class="card-body p-0">
      <div class="row g-0">
        <div class="col-md-3 bg-light d-flex flex-column align-items-center justify-content-center p-4 text-center border-end">
          <ng-container>
             <img [src]="argazkia_url()" (error)="($any($event.target).src = 'ezezaguna.jpg')" class="img-fluid rounded-circle shadow mb-3" style="width: 150px; height: 150px; object-fit: cover;">
          </ng-container>
          <h5 class="fw-bold">{{ nombre() }} {{ apellidos() }}</h5>
        </div>
        <div class="col-md-9 p-4">
          <div class="row g-3">
             <div class="col-md-6">
               <label class="text-muted small text-uppercase fw-bold">{{ 'ALUMNO_PORTAL.LABEL_USUARIO' | translate }}</label>
               <p class="fw-medium mb-0">{{ username() }}</p>
             </div>
             <div class="col-md-6">
                <label class="text-muted small text-uppercase fw-bold">{{ 'ALUMNO_PORTAL.LABEL_PASSWORD' | translate }}</label>
                <p class="fw-medium mb-0 text-muted">{{ password() }}</p>
              </div>
              
              <div class="col-md-6">
                <label class="text-muted small text-uppercase fw-bold">{{ 'ALUMNO_PORTAL.LABEL_EMAIL' | translate }}</label>
                <p class="fw-medium mb-0"> {{ email() }} </p>
              </div>
              <div class="col-md-6">
                <label class="text-muted small text-uppercase fw-bold">{{ 'ALUMNO_PORTAL.LABEL_DNI' | translate }}</label>
                <p class="fw-medium mb-0">{{ dni() }}</p>
              </div>

              <div class="col-md-6">
                <label class="text-muted small text-uppercase fw-bold">{{ 'ALUMNO_PORTAL.LABEL_TELEFONOS' | translate }}</label>
                <p class="fw-medium mb-0"><i class="bi bi-phone"></i> {{ telefono1() }} / {{ telefono2() }}</p>
              </div>
              <div class="col-md-6">
                <label class="text-muted small text-uppercase fw-bold">{{ 'ALUMNO_PORTAL.LABEL_DIRECCION' | translate }}</label>
                <p class="fw-medium mb-0">{{ direccion() }}</p>
              </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- REUNIONES E HORARIO -->
  <div class="row g-4 mb-5">
    <!-- REUNIONES -->
    <div class="col-lg-5">
      <div class="card h-100 border-0 shadow-sm">
        <div class="card-header bg-white border-bottom-0 pt-3">
          <h5 class="text-primary fw-bold">
            <i class="bi bi-calendar-event"></i> 
            <span>{{ 'ALUMNO_PORTAL.REUNIONES.TITULO' | translate }}</span>
          </h5>
        </div>
        <div class="card-body p-0">
          <div class="table-responsive">
            <table class="table table-striped table-hover mb-0 align-middle text-sm-start">
              <thead class="table-light text-secondary">
                <tr>
                  <th>{{ 'ALUMNO_PORTAL.REUNIONES.ESTADO' | translate }}</th>
                  <th>{{ 'ALUMNO_PORTAL.REUNIONES.ASUNTO' | translate }}</th>
                  <th>{{ 'ALUMNO_PORTAL.REUNIONES.LUGAR' | translate }}</th>
                  <th>{{ 'ALUMNO_PORTAL.REUNIONES.FECHA' | translate }}</th>
                </tr>
              </thead>
              <tbody>
                @for (reunion of reuniones(); track reunion.id_reunion) {
                  <tr>
                    <td><span class="badge bg-info text-dark">{{ reunion.estado }}</span></td>
                    <td>
                      <div class="fw-bold">{{ reunion.titulo }}</div>
                      <small class="text-muted">{{ reunion.asunto }}</small>
                    </td>
                    <td> 
                      <button class="btn btn-sm btn-outline-primary" [routerLink]="['/centro', reunion.id_centro]"> 
                        {{ reunion.id_centro }} - {{ reunion.aula }} 
                      </button> 
                    </td>
                    <td class="text-nowrap">{{ reunion.fecha | date:'yyyy-MM-dd' }}</td>
                  </tr>
                }
                @if (reuniones().length === 0) {
                    <tr>
                      <td colspan="4" class="text-center py-3 text-muted">
                        {{ 'ALUMNO_PORTAL.REUNIONES.SIN_REUNIONES' | translate }}
                      </td>
                    </tr>
                }
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>

    <!-- HORARIO -->
    <div class="col-lg-7">
      <div class="card h-100 border-0 shadow-sm">
        <div class="card-header bg-white border-bottom-0 pt-3">
          <h5 class="text-success fw-bold">
            <i class="bi bi-clock-history"></i> 
            <span>{{ 'ALUMNO_PORTAL.HORARIO.TITULO' | translate }}</span>
          </h5>
        </div>
        <div class="card-body">
          <div class="table-responsive">
            <table class="table table-bordered text-center align-middle table-sm">
              <thead class="table-success">
                <tr>
                  <th>{{ 'ALUMNO_PORTAL.HORARIO.HORA' | translate }}</th>
                  @for (dia of diasSemana; track dia) {
                    <th class="text-uppercase small">{{ dia | translate }}</th>
                  }
                </tr>
              </thead>
              <tbody>
                @for (hora of ['1','2','3','4','5','6']; track hora) {
                  <tr>
                    <td class="fw-bold bg-light text-muted">{{ hora }}ยบ</td>
                    @for (dia of diasSemana; track dia) {
                      <td>
                        @if(horarioSemanal()[hora][dia]){
                          <span class="d-block p-1 rounded bg-light border">
                              {{ horarioSemanal()[hora][dia] }}
                          </span>
                        }
                      </td>
                    }
                  </tr>
                }
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>